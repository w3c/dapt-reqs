<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>DAPT Requirements</title>
    <script
      src="https://www.w3.org/Tools/respec/respec-w3c"
      class="remove"
      defer
    ></script>
    <script class="remove">
      // All config options at https://respec.org/docs/
      var respecConfig = {
        specStatus: "DNOTE",
        editors: [
            { name: "Cyril Concolato", w3cid: "36324", mailto: "cconcolato@netflix.com" },
            { name: "Nigel Megitt", w3cid: "64750", mailto: "nigel.megitt@bbc.co.uk"}
        ],
        github: {
            repoURL : "https://github.com/w3c/dapt-reqs/",
            branch : "main"
        },
        shortName: "dapt-reqs",
        noRecTrack: true,
        xref: "web-platform",
        group: "wg/timed-text",
        subjectPrefix: "[dapt-reqs]",
        localBiblio: {
            "ADPT": {
                publisher: "World Wide Web Consortium (W3C)",
                href:"https://w3c.github.io/adpt/",
                title: "Proposal for an Exchange Format to support Audio Description"
            },
            "TTAL": {
                publisher: "Netflix",
                href: "https://netflixtechblog.com/introducing-netflix-timed-text-authoring-lineage-6fb57b72ad41",
                title: "Introducing Netflix Timed Text Authoring Lineage"
            }
        }
      };
    </script>
    <style>
        table.coldividers td + td { border-left:1px solid gray; text-align: center;}
        table.syntax { border: 0px solid black; width: 85%; border-collapse: collapse }
        table.syntax caption { font-weight: bold; text-align: left; padding-bottom: 0.5em }
        table.syntax th { border: 0px solid black; text-align: left }
        table.syntax td { border: 0px solid black }
        table.syntax div { background-color: #ffffc8 }

        /*for the SVG - navigation highlighting */

        :focus path,
        :focus polygon,
        :focus ellipse,
        :focus rect {
            stroke-width: 2px;
        }
        g g g:hover a path,
        g g g:hover a polygon,
        g g g:hover a ellipse,
        g g g:hover a rect {
            stroke-width: 2px;
        }
        :focus text,
        g g g:hover a text,
        g g g:hover text tspan a {
            stroke: black;
            stroke-width: .5px;
        }
      </style>
    </head>
  <body>
    <section id="abstract">
      <p>This document captures technical requirements for a profile of TTML2 for use
          in workflows related to dubbing and audio description of movies and videos.</p>
    </section>
    <section id="sotd">
      <p>This is required.</p>
    </section>
    <section class="informative">
      <h2>Introduction</h2>
      <p>W3C members have identified the need for a profile of TTML for the exchange of timed text content
          in the context of audio description or dubbing applications.
          This document is based on the work of the
          <a href="https://www.w3.org/community/audio-description/">Audio Description Community Group</a>
          including [[ADPT]] and [[TTAL]].</p>
    </section>
    <section>
        <h2>Workflow</h2>
        <p>The following diagram illustrates a hypothetical combined workflow
          for the authoring and exchange of timed text content
          for each of
          1) audio description and
          2) dubbing applications.</p>
        <p>The blue rectangles with labels preceded by a number represent various manual or automated processes. Clicking on a process rectangle will take the reader to a detailed description of the process from the table below.
           Processes specific to Audio Description or Dubbing workflows are marked respectively with AD or DUB.
           Those not marked as AD or DUB are common to both workflows.
           The green boxes with a wave underside represent timed text scripts produced by the various processes
           and expected to be compliant to the profile definition.
           The white boxes with a wave underside are media data used or produced in the workflows
           but whose format is out of scope for the profile.</p>

        <figure id='fig-workflow'>
            <div data-include="figures/workflow-fig.svg"></div>
            
            <figcaption>
                Hypothetical combined workflow for audio description and dubbing.
            </figcaption>
        </figure>
        <p>The following table provides more detailed information on each step.</p>
        <table class="simple">
            <thead>
                <tr>
                    <th colspan="1" rowspan="1">Data being authored or modified</th>
                    <th colspan="1" rowspan="1">Process step</th>
                    <th colspan="1" rowspan="1">Applies to AD?</th>
                    <th colspan="1" rowspan="1">Applies to Dubbing?</th>
                    <th colspan="1" rowspan="1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="1" rowspan="1">Times</td>
                    <td colspan="1" rowspan="1"><dfn>PS1</dfn>. Identify key times in programme dialog, mark gaps
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Automatically or manually process the programme audio track
                                to identify intervals either with spoken dialogs
                                to be translated or within which description audio may be inserted.</li>
                        </ul>
                </tr>
                <tr>
                    <td colspan="1" rowspan="4">Text
                    <td colspan="1" rowspan="1"><dfn>PS2a</dfn>. Describe images (AD)
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                    <td colspan="1" rowspan="1"><ul>Write a set of descriptions to fit within the identified gaps.</li></ul>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1"><dfn>PS2b</dfn>. Transcribe original text (DUB)
                    <td colspan="1" rowspan="1">
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Transcribe the dialogue in the original language to create a source transcription text</li>
                            <li>Notate dialogue events with character information and other annotations</li>
                            <li>Generate localization notes to guide further adaptation</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1"><dfn>PS2c</dfn>. Translate text (DUB)
                    <td colspan="1" rowspan="1">
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Translate the dialogue to a target language</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1"><dfn>PS2d</dfn>. Adapt text (DUB)
                    <td colspan="1" rowspan="1">
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Adapt the translation to the dubbing; for example
                                matching the actor's lip movements in the case of dubs
                                and considering reading speeds and shot changes.</li>
                        </ul>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">Audio
                    <td colspan="1" rowspan="1"><dfn>PS3</dfn>. Voice recording or synthesize audio
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Generate an audio rendition of the script
                                either by using an actor or voicer and recording the speech
                                or synthesize the audio description by using a text to speech system.
                                For audio descriptions, this is typically a mono audio track
                                that may be delivered as a single track that is the same duration as the programme
                                or as a set of short audio tracks each beginning at a defined time.
                                Alternatively it can be a single track with each short description concatenated
                                to remove unnecessary silences.</li>
                        </ul>
                </tr>
                <tr>
                    <td colspan="1" rowspan="2">Text
                    <td colspan="1" rowspan="1"><dfn>PS4</dfn>. Define audio mixing instructions (AD)
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Select a horizontal pan position to apply to the audio rendition
                                of the description when mixing with the main programme audio.
                                This is typically a single value that applies to each description.</li>
                            <li>Select the amount by which to lower the main programme audio
                                prior to mixing in the description audio.
                                This is typically defined as a curve defined by a set of moments in time
                                and fade levels to apply,
                                with an interpolation algorithm to vary the levels between each moment in time.</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1"><dfn>PS5</dfn>. Edit script to match performance 
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">X
                    <td colspan="1" rowspan="1">
                        <ul>
                            <li>Adjust the script based on changes made during the audio recording,
                                to produce a script sometimes called <dfn>As-recorded script</dfn>.</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </section>
    <section>
        <h2>Requirements</h2>
        <p>The following table lists the requirements at each stage of the workflow:</p>
        <p class="ednote">TODO: Add [[media-accessibility-reqs]]</p>
        <table class="simple">
            <thead>
                <tr>
                    <th colspan="1" rowspan="1">Requirement number</th>
                    <th colspan="1" rowspan="1">Process step</th>
                    <th colspan="1" rowspan="1">Requirement</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="1" rowspan="1">R1</td>
                    <td colspan="1" rowspan="1">all</td>
                    <td colspan="1" rowspan="1"><p>A document shall identify the type of document it corresponds to,
                        from typical dubbing and audio description workflows,
                        at least among:
                        &quot;Audio Description Script&quot;,
                        &quot;Original Language Dialogue List&quot;,
                        &quot;Translated Dialogue List&quot; (a.k.a. &quot;Pivot Language Dialogue List&quot;),
                        &quot;Pre-Recording Dub Script&quot;,
                        &quot;Pre-Recording Audio Description Script&quot;,
                        &quot;As-recorded Dub Script&quot;,
                        &quot;As-recorded Audio Description Script&quot;.</p></td>
                    </tr>
                <tr>
                    <td colspan="1" rowspan="1">R2</td>
                    <td colspan="1" rowspan="1"><a>PS1</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to define a list of intervals,
                        each called <dfn>event</dfn>,
                        defined by a begin time and an end time,
                        either matching a dialogue spoken by a single character or matching on-screen text from the programme,
                        or that is an opportunity for adding descriptions.</p>
                        <p class="ednote">In ADPT, the requirement for intervals was distinct from the requirements their contents - any reason not to do the same here?</p>
                        <p class="ednote">Is "event" the best name? Do nested events need a different term?</p>
                    </td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R3</td>
                    <td colspan="1" rowspan="1"><a>PS2a</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to incorporate description text to be voiced,
                        each description located within a timed interval defined by a begin time and an end time.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R4</td>
                    <td colspan="1" rowspan="1"><a>PS2a</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to incorporate additional user defined metadata
                        associated with each description;
                        metadata schemes may be user defined or centrally defined.
                        For example the language of the description may be stored,
                        or notes made by the script writer.</p></td>
                    </tr>
                <tr>
                    <td colspan="1" rowspan="1">R5</td>
                    <td colspan="1" rowspan="1"><a>PS2a</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be extensible to allow incorporation of data required
                        to achieve the desired quality of audio presentation,
                        whether manual or automated.
                        For example it is typical to include information about
                        what gender and age voice would be appropriate to voice the descriptions;
                        it is also feasible to include data used to improve the quality of text to speech synthesis,
                        such as phonetic descriptions of the text, intonation and emotion data etc.
                        The format of any extensions for this purpose need not be defined.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R6</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to describe the characters participating in a programme,
                        defined by a name in the programme,
                        optionally a name in the real world
                        and optional private metadata (e.g. images, text).</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R7</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate a unique character with a given <a>event</a>,
                        when the event corresponds to a dialogue.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R8</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate text content,
                        called <dfn>original content</dfn>,
                        with each <a>event</a>,
                        corresponding to the content of the dialogue or on-screen text.
                        The language shall be identified too.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R9</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate optional rendering styles with a character.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R10</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document shall support associating rendering styles with an <a>event</a>.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R11</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to optionally associate a human-readable string with an <a>event</a>,
                        providing annotation of the event.</p></td>
                    </tr>
                <tr>
                    <td colspan="1" rowspan="1">R12</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able, for an <a>event</a> corresponding to a dialogue,
                        to optionally indicate if the character is in the picture,
                        out of the picture or transitioning in or out of the picture.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R13</td>
                    <td colspan="1" rowspan="1"><a>PS2b</a></td>
                    <td colspan="1" rowspan="1"><p>A document shall support optionally annotating each <a>event</a>
                        with an indication of the type of event
                        (e.g. when the event corresponds to on-screen text,
                        if the text corresponds to &quot;Credits&quot; or &quot;Title&quot;;
                        or if the dialogue text is audible or not),
                        and optionally additional human readable text.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R14</td>
                    <td colspan="1" rowspan="1"><a>PS2c</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to optionally associate with an <a>event</a>
                        a translation of the <a>original content</a> in a different, identified language.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R15</td>
                    <td colspan="1" rowspan="1"><a>PS3</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to reference audio tracks either
                        included as binary data within the document
                        or separately.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R16</td>
                    <td colspan="1" rowspan="1"><a>PS3</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate a begin time
                        with the beginning of playback of each audio track,
                        for the case that multiple audio tracks are created,
                        one per description.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R17</td>
                    <td colspan="1" rowspan="1"><a>PS3</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate a begin time with a playback entry time
                        within an audio track,
                        for the case that a single audio track is generated
                        that contains multiple segments of audio to be played back at different times.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R18</td>
                    <td colspan="1" rowspan="1"><a>PS4</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to associate a left/right pan value
                        with playback of each or every audio description.
                        This value applies to the audio description prior to mixing with the main programme audio.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R19</td>
                    <td colspan="1" rowspan="1"><a>PS4</a></td>
                    <td colspan="1" rowspan="1"><p>A document must be able to define a fade level curve
                        that applies to the main programme audio prior to mixing with the audio description,
                        where that fade level curve is defined by
                        a set of pairs of level and times
                        and an interpolation algorithm.</p></td>
                </tr>
                <tr>
                    <td colspan="1" rowspan="1">R20</td>
                    <td colspan="1" rowspan="1">all</td>
                    <td colspan="1" rowspan="1"><p>A document shall support storing private metadata associated with the document,
                        such as a title,
                        an episode identifier,
                        a season identifier, etc.</p></td>
                </tr>
            </tbody>
        </table>
    </section>
  </body>
</html>
